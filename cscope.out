cscope 15 $HOME/Documents/Projects/Chatbot/CppND-Memory-Management-Chatbot               0000023049
	@src/answergraph.txt

3 <
	gTYPE
:
NODE
><
ID
:0><
ANSWER
:
W–come
! 
My
 
Çme
 
is
 
MemBÙ
. 
You
 
ÿn
 
ask
 
me
 
about
 
thšgs
 
»Ï‹d
 
to
 
memÜy
 
mªagem’t
 
š
 
C
++. 
PossibË
 
tİics
 
¬e
 'poš‹rs' 
ªd
 'thC++ memÜy mod–'. 
Wh©
 
would
 
you
 
like
Ø
lk
‡bout?>

5 <
TYPE
:
NODE
><
ID
:1><
ANSWER
:
G»©
! 
L‘
' lk‡bouˆpoš‹rs. IÀcompu‹¸sc›nû,‡…oš‹¸i ¨¥ecŸÈv®uwho£ m—nšg i ¨memÜy‡dd»ss. Thi add»s ÿÀcÚšƒ™h” d©a, such‡ v¬ŸbË Ü objeùs, buˆ®sØ´og¿m code (š¡ruùiÚs). By d”eã»ncšghpoš‹¸™ i possibËØacûs thd©¨Ühcode. AmÚg oth”hšgs,…oš‹r ¬u£dØmªagdyÇmiømemÜy. Oth”İic ¬ound…oš‹r you cª‡sk‡bouˆ¬'
sm¬t
 
poš‹rs
'‡nd '
nuÎ±r
'>

7 <
TYPE
:
NODE
><
ID
:2><
ANSWER
:
Wh’
 
š¡ªtŸtšg
 
v¬ŸbËs
, 
´og¿mm”s
 
ÿn
 
choo£
 
w‘h”
 
to
 dØ
this
 
Ú
 
the
 
	gh—p
, oÀth
¡ack
 
Ü
 
š
 
	gmemÜy
. 
Do
 
you
 
wªt
Ø
know
 
mÜe
 
about
 
tho£
 
two
 
	gcÚû±s
? 
Sim¶y
 
ask
 
me
 
	gabout
 'h—p', '¡ack' 
	gÜ
 'static'.>

9 <
	gTYPE
:
NODE
><
ID
:3><
ANSWER
:
A
 
sm¬t
 
poš‹r
 
is
 
ª
 
objeù
 
th©
 
behaves
 
like
 
a
…oš‹r, 
	gi
.
	ge
. 
™
 
mu¡
 
suµÜt
…oš‹¸
İ”©iÚs
 
such
 
as
 
d”eã»ncšg
 
Ü
 
šdœeù
 
	gacûss
. 
In
 
add™iÚ
 
to
 
the£
 
	g´İ”t›s
, 
the
 sm¬ˆpoš‹¸
hªdËs
 
»sourûs
 
	gb‘‹r
. IÀ
cÚü‘e
 
	g‹rms
, 
this
 
m—ns
h© iˆ
kes
 
ÿ»
 
nÙ
Ø
ÿu£
‡ 
memÜy
 
	gËak
. A sm¬ˆpoš‹¸
exi¡s
 
š
 
v¬ious
 
	gæavÜs
, 
which
 
¬e
 
	gunique_±r
, 
sh¬ed_±r
 
ªd
 
	gw—k_±r
. 
Th”e
‡» 
no
 
mÜe
 
tİics
 iÀthi 
	g£ùiÚ
, 
¡¬tšg
 
	gov”
!>

11 <
	gTYPE
:
NODE
><
ID
:4><
ANSWER
:
The
 
v®ue
 
nuÎ±r
 
ÿn
 
be
 
assigÃd
 
to
 
poš‹rs
 
of
 
ªy
 
ty³
. 
This
 
tuºs
 
the
 
poš‹r
 
što
 
a
 
nuÎ
…oš‹¸
th©
 
dÛs
 
nÙ
 
pošt
Ø¨
memÜy
 
loÿtiÚ
. ThnuÎ±¸
keywÜd
 cª b
u£d
Ø
‹¡
 ¨poš‹¸
Ü
 
hªdË
 
»ã»nû
 
is
‚uÎ 
befÜe
h»ã»nû i u£d. 
Th”e
 
¬e
 
no
 
mÜe
 
tİics
 
š
 
this
 
£ùiÚ
, 
¡¬tšg
 
	gov”
!>

13 <
	gTYPE
:
NODE
><
ID
:5><
ANSWER
:
Loÿl
 
v¬ŸbËs
 
deş¬ed
 
as
 
·¹
 
of
 
a
 
funùiÚ
 
¬e
 
¡Üed
 
Ú
 
the
 
¡ack
. 
Also
,h¡ack 
is
h
¶aû
 
wh”e
 funùiÚ 
·¿m‘”s
‡» 
	g¡Üed
. 
	gFu¹h”
,h¡ack i 
u£d
 
¡Üšg
h 
add»ss
 oàth
ÿÎšg
 
	gfunùiÚs
, 
ªd
 
™
 
k“ps
h
cÚ‹Ás
‡nd ‡dd»s 
wh’
 
ª
 
š‹¼u±
 
£rviû
 
routše
 i 
	gÿÎed
. -- 
Th”e
‡» 
no
 
mÜe
 
tİics
 
š
 
this
 
	g£ùiÚ
, 
¡¬tšg
 
	gov”
!>

15 <
	gTYPE
:
NODE
><
ID
:6><
ANSWER
:
H—p
 
memÜy
, 
®so
 
known
 
as
 
dyÇmic
 
	gmemÜy
, 
is
 
ª
 
®‹º©ive
 
to
 
loÿl
 
¡ack
 memÜy. 
Loÿl
 memÜy i 
®loÿ‹d
 
autom©iÿÎy
 
Ú
 
funùiÚ
 
ÿÎ
 
ªd
 
™
 i 
d—Îoÿ‹d
‡utom©iÿÎy 
wh’
 
a
 funùiÚ 
	gex™s
. H—°memÜy i 
	gdifã»Á
. 
The
 
´og¿mm”
 
ex¶ic™ly
 
»que¡s
 
the
 
®loÿtiÚ
 
of
‡ memÜy 
block
 oà¨
·¹icuÏr
 
	gsize
,‡ndhblock 
cÚtšues
Ø
be
‡Îoÿ‹d 
uÁ
h´og¿mm”ƒx¶ic™ly„eque¡ 
th©
 iˆb
	gd—Îoÿ‹d
. -- 
Th”e
 
¬e
 
no
 
mÜe
 
tİics
 
š
 
this
 
	g£ùiÚ
, 
¡¬tšg
 
	gov”
!>

17 <
	gTYPE
:
NODE
><
ID
:7><
ANSWER
:
Stic
 
memÜy
 
³rsi¡s
 
throughout
 
the
 
’tœe
 
liã
 
of
h
´og¿m
, 
ªd
 
is
 
usu®ly
 
u£d
 
to
 
¡Üe
 
thšgs
 
like
 
glob®
 
	gv¬ŸbËs
, 
Ü
 
v¬ŸbËs
 
ü—‹d
 
w™h
h
	gşau£
. -- 
Th”e
 
¬e
 
no
 
mÜe
 
tİics
 
š
 
this
 
	g£ùiÚ
, 
¡¬tšg
 
	gov”
!>

21 <
	gTYPE
:
EDGE
><
ID
:0><
PARENT
:0><
CHILD
:1><
KEYWORD
:
poš‹r
><KEYWORD:
sm¬t
…ointer>

22 <
TYPE
:
EDGE
><
ID
:1><
PARENT
:0><
CHILD
:2><
KEYWORD
:
memÜy
 
mod–
><KEYWORD:
h—p
><KEYWORD:
¡ack
>

24 <
TYPE
:
EDGE
><
ID
:2><
PARENT
:1><
CHILD
:3><
KEYWORD
:
unique
 
poš‹r
><KEYWORD:
sh¬ed
…oš‹r><KEYWORD:
w—k
…ointer>

25 <
TYPE
:
EDGE
><
ID
:3><
PARENT
:1><
CHILD
:4><
KEYWORD
:
NULL
><KEYWORD:
nuÎ
 
poš‹r
><KEYWORD:
nuÎ±r
>

27 <
TYPE
:
EDGE
><
ID
:4><
PARENT
:2><
CHILD
:5><
KEYWORD
:
¡ack
><KEYWORD:¡ack 
memÜy
><KEYWORD:
loÿl
 
v¬ŸbË
 
¡Üage
>

28 <
TYPE
:
EDGE
><
ID
:5><
PARENT
:2><
CHILD
:6><
KEYWORD
:
h—p
><KEYWORD:h—°
memÜy
><KEYWORD:
dyÇmic
 
¡Üage
>

29 <
TYPE
:
EDGE
><
ID
:6><
PARENT
:2><
CHILD
:7><
KEYWORD
:><KEYWORD:
memÜy
><KEYWORD:
glob®
 
v¬ŸbË
 
¡Üage
>

	@src/chatbot.cpp

1 
	~<io¡»am
>

2 
	~<¿ndom
>

3 
	~<®gÜ™hm
>

4 
	~<ùime
>

6 
	~"ch©logic.h
"

7 
	~"g¿phnode.h
"

8 
	~"g¿phedge.h
"

9 
	~"ch©bÙ.h
"

12 
	gCh©BÙ
::
	$Ch©BÙ
()

15 
_image
 = 
nuÎ±r
;

16 
_ch©Logic
 = 
nuÎ±r
;

17 
_roÙNode
 = 
nuÎ±r
;

18 
	}
}

21 
	gCh©BÙ
::
	$Ch©BÙ
(
¡d
::
¡ršg
 
f’ame
)

23 
¡d
::
cout
 << 
this
 << " ";

24 
¡d
::
cout
 << "Ch©BÙ CÚ¡ruùÜ" << std::
’dl
;

27 
_ch©Logic
 = 
nuÎ±r
;

28 
_roÙNode
 = 
nuÎ±r
;

31 
_image
 = 
Ãw
 
	`wxB™m­
(
f’ame
, 
wxBITMAP_TYPE_PNG
);

32 
	}
}

34 
	gCh©BÙ
::~
	$Ch©BÙ
()

36 
¡d
::
cout
 << 
this
 << " ";

37 
¡d
::
cout
 << "Ch©BÙ De¡ruùÜ" << std::
’dl
;

40 if(
_image
 !ğ
NULL
)

42 
d–‘e
 
_image
;

43 
_image
 = 
NULL
;

45 
	}
}

53 
	gCh©BÙ
::
	$ReûiveMes§geFromU£r
(
¡d
::
¡ršg
 
mes§ge
)

56 
¡d
::
	t·œ
<
	tG¿phEdge
 *, > 
	tEdgeDi¡
;

57 
¡d
::
veùÜ
<
EdgeDi¡
> 
ËvDi¡s
;

59 
size_t
 
i
 = 0; i < 
_cu¼’tNode
->
	`G‘Numb”OfChdEdges
(); ++i)

61 
G¿phEdge
 *
edge
 = 
_cu¼’tNode
->
	`G‘ChdEdgeAtIndex
(
i
);

62 autØ
keywÜd
 : 
edge
->
	`G‘KeywÜds
())

64 
EdgeDi¡
 
ed
{
edge
, 
	`Compu‹Lev’sh‹šDi¡ªû
(
keywÜd
, 
mes§ge
)};

65 
ËvDi¡s
.
	`push_back
(
ed
);

70 
G¿phNode
 *
ÃwNode
;

71 ià(
ËvDi¡s
.
	`size
() > 0)

74 
¡d
::
	`sÜt
(
ËvDi¡s
.
	`begš
(),†evDi¡s.
	`’d
(), [](cÚ¡ 
EdgeDi¡
 &
a
, cÚ¡ EdgeDi¡ &
b
è{ ‡.
£cÚd
 < b.second; });

75 
ÃwNode
 = 
ËvDi¡s
.
	`©
(0).
fœ¡
->
	`G‘ChdNode
();

80 
ÃwNode
 = 
_roÙNode
;

84 
_cu¼’tNode
->
	`MoveCh©bÙToNewNode
(
ÃwNode
);

85 
	}
}

87 
	gCh©BÙ
::
	$S‘Cu¼’tNode
(
G¿phNode
 *
node
)

90 
_cu¼’tNode
 = 
node
;

93 
¡d
::
veùÜ
<¡d::
¡ršg
> 
ªsw”s
 = 
_cu¼’tNode
->
	`G‘Answ”s
();

94 
¡d
::
mt19937
 
	`g’”©Ü
((¡d::
	`time
(0)));

95 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
	`dis
(0, 
ªsw”s
.
	`size
() - 1);

96 
¡d
::
¡ršg
 
ªsw”
 = 
ªsw”s
.
	`©
(
	`dis
(
g’”©Ü
));

99 
_ch©Logic
->
	`S’dMes§geToU£r
(
ªsw”
);

100 
	}
}

102 
	gCh©BÙ
::
	$Compu‹Lev’sh‹šDi¡ªû
(
¡d
::
¡ršg
 
s1
, std::¡ršg 
s2
)

105 
¡d
::
	`ŒªsfÜm
(
s1
.
	`begš
(), s1.
	`’d
(), s1.begš(), ::
touµ”
);

106 
¡d
::
	`ŒªsfÜm
(
s2
.
	`begš
(), s2.
	`’d
(), s2.begš(), ::
touµ”
);

109 cÚ¡ 
size_t
 
	`m
(
s1
.
	`size
());

110 cÚ¡ 
size_t
 
	`n
(
s2
.
	`size
());

112 ià(
m
 == 0)

113  
n
;

114 ià(
n
 == 0)

115  
m
;

117 
size_t
 *
co¡s
 = 
Ãw
 size_t[
n
 + 1];

119 
size_t
 
k
 = 0; k <ğ
n
; k++)

120 
co¡s
[
k
] = k;

122 
size_t
 
i
 = 0;

123 
¡d
::
¡ršg
::
cÚ¡_™”©Ü
 
™1
 = 
s1
.
	`begš
(); it1 !ğs1.
	`’d
(); ++™1, ++
i
)

125 
co¡s
[0] = 
i
 + 1;

126 
size_t
 
cÜÃr
 = 
i
;

128 
size_t
 
j
 = 0;

129 
¡d
::
¡ršg
::
cÚ¡_™”©Ü
 
™2
 = 
s2
.
	`begš
(); it2 !ğs2.
	`’d
(); ++™2, ++
j
)

131 
size_t
 
uµ”
 = 
co¡s
[
j
 + 1];

132 ià(*
™1
 =ğ*
™2
)

134 
co¡s
[
j
 + 1] = 
cÜÃr
;

138 
size_t
 
	`t
(
uµ”
 < 
cÜÃr
 ? upper : corner);

139 
co¡s
[
j
 + 1] = (co¡s[j] < 
t
 ? costs[j] :) + 1;

142 
cÜÃr
 = 
uµ”
;

146 
»suÉ
 = 
co¡s
[
n
];

147 
d–‘e
[] 
co¡s
;

149  
»suÉ
;

150 
	}
}

	@src/chatbot.h

1 #iâdeà
CHATBOT_H_


2 
	#CHATBOT_H_


	)

4 
	~<wx/b™m­.h
>

5 
	~<¡ršg
>

7 
şass
 
	gG¿phNode
;

8 
şass
 
	gCh©Logic
;

10 şas 
	cCh©BÙ


12 
	m´iv©e
:

14 
wxB™m­
 *
_image
;

17 
G¿phNode
 *
	m_cu¼’tNode
;

18 
G¿phNode
 *
	m_roÙNode
;

19 
Ch©Logic
 *
	m_ch©Logic
;

22 
Compu‹Lev’sh‹šDi¡ªû
(
¡d
::
¡ršg
 
s1
, std::¡ršg 
s2
);

24 
	mpublic
:

26 
Ch©BÙ
();

27 
Ch©BÙ
(
¡d
::
¡ršg
 
f’ame
);

28 ~
Ch©BÙ
();

37 
S‘Cu¼’tNode
(
G¿phNode
 *
node
);

38 
	$S‘RoÙNode
(
G¿phNode
 *
roÙNode
è{ 
_roÙNode
 =„ootNode; }

39 
	$S‘Ch©LogicHªdË
(
Ch©Logic
 *
ch©Logic
è{ 
_ch©Logic
 = ch©Logic; 
	}
}

40 
wxB™m­
 *
	$G‘ImageHªdË
(è{  
_image
; 
	}
}

43 
ReûiveMes§geFromU£r
(
¡d
::
¡ršg
 
mes§ge
);

	@src/chatgui.cpp

1 
	~<wx/f’ame.h
>

2 
	~<wx/cŞour.h
>

3 
	~<wx/image.h
>

4 
	~<¡ršg
>

5 
	~"ch©bÙ.h
"

6 
	~"ch©logic.h
"

7 
	~"ch©gui.h
"

10 cÚ¡ 
	gwidth
 = 414;

11 cÚ¡ 
	gheight
 = 736;

14 
IMPLEMENT_APP
(
Ch©BÙAµ
);

16 
	g¡d
::
¡ršg
 
d©aP©h
 = "../";

17 
	g¡d
::
¡ršg
 
imgBa£P©h
 = 
d©aP©h
 + "images/";

19 
boŞ
 
	gCh©BÙAµ
::
	$OnIn™
()

22 
Ch©BÙF¿me
 *
ch©BÙF¿me
 = 
Ãw
 
	`Ch©BÙF¿me
(
	`wxT
("Udacity ChatBot"));

23 
ch©BÙF¿me
->
	`Show
(
Œue
);

25  
Œue
;

26 
	}
}

29 
	gCh©BÙF¿me
::
	$Ch©BÙF¿me
(cÚ¡ 
wxSŒšg
 &
t™Ë
è: 
	`wxF¿me
(
NULL
, 
wxID_ANY
,™Ë, 
wxDeçuÉPos™iÚ
, 
	$wxSize
(
width
, 
height
))

32 
Ch©BÙF¿meImagePª–
 *
ù¾Pª–
 = 
Ãw
 
	`Ch©BÙF¿meImagePª–
(
this
);

35 
_·ÃlDŸlog
 = 
Ãw
 
	`Ch©BÙPª–DŸlog
(
ù¾Pª–
, 
wxID_ANY
);

38 
idTextXŒl
 = 1;

39 
_u£rTextCŒl
 = 
Ãw
 
	`wxTextCŒl
(
ù¾Pª–
, 
idTextXŒl
, "", 
wxDeçuÉPos™iÚ
, 
	`wxSize
(
width
, 50), 
wxTE_PROCESS_ENTER
, 
wxDeçuÉV®id©Ü
, 
wxTextCŒlNameSŒ
);

40 
	`CÚÃù
(
idTextXŒl
, 
wxEVT_TEXT_ENTER
, 
	`wxCommªdEv’tHªdËr
(
Ch©BÙF¿me
::
OnEÁ”
));

43 
wxBoxSiz”
 *
v”tBoxSiz”
 = 
Ãw
 
	`wxBoxSiz”
(
wxVERTICAL
);

44 
v”tBoxSiz”
->
	`AddS·ûr
(90);

45 
v”tBoxSiz”
->
	`Add
(
_·ÃlDŸlog
, 6, 
wxEXPAND
 | 
wxALL
, 0);

46 
v”tBoxSiz”
->
	`Add
(
_u£rTextCŒl
, 1, 
wxEXPAND
 | 
wxALL
, 5);

47 
ù¾Pª–
->
	`S‘Siz”
(
v”tBoxSiz”
);

50 
this
->
	`C’Œe
();

51 
	}
}

53 
	gCh©BÙF¿me
::
OnEÁ”
(
wxCommªdEv’t
 &
	$WXUNUSED
(
ev’t
))

56 
wxSŒšg
 
u£rText
 = 
_u£rTextCŒl
->
	`G‘LšeText
(0);

59 
_·ÃlDŸlog
->
	`AddDŸlogI‹m
(
u£rText
, 
Œue
);

62 
_u£rTextCŒl
->
	`CË¬
();

65 
_·ÃlDŸlog
->
	`G‘Ch©LogicHªdË
()->
	`S’dMes§geToCh©bÙ
(
¡d
::
	`¡ršg
(
u£rText
.
	`mb_¡r
()));

66 
	}
}

68 
	$BEGIN_EVENT_TABLE
(
Ch©BÙF¿meImagePª–
, 
wxPª–
)

69 
	$EVT_PAINT
(
Ch©BÙF¿meImagePª–
::
·štEv’t
)

70 
	$END_EVENT_TABLE
()

72 
Ch©BÙF¿meImagePª–
::
	$Ch©BÙF¿meImagePª–
(
wxF¿me
 *
·»Á
è: 
	$wxPª–
(
·»Á
)

74 
	}
}

76 
Ch©BÙF¿meImagePª–
::
	$·štEv’t
(
wxPaštEv’t
 &
evt
)

78 
wxPaštDC
 
	`dc
(
this
);

79 
	`»nd”
(
dc
);

80 
	}
}

82 
	gCh©BÙF¿meImagePª–
::
	$·štNow
()

84 
wxCl›ÁDC
 
	`dc
(
this
);

85 
	`»nd”
(
dc
);

86 
	}
}

88 
	gCh©BÙF¿meImagePª–
::
	$»nd”
(
wxDC
 &
dc
)

91 
wxSŒšg
 
imgFe
 = 
imgBa£P©h
 + "sf_bridge.jpg";

92 
wxImage
 
image
;

93 
image
.
	`LßdFe
(
imgFe
);

96 
wxSize
 
sz
 = 
this
->
	`G‘Size
();

97 
wxImage
 
imgSm®l
 = 
image
.
	`ResÿË
(
sz
.
	`G‘Width
(), sz.
	`G‘Height
(), 
wxIMAGE_QUALITY_HIGH
);

98 
_image
 = 
	`wxB™m­
(
imgSm®l
);

100 
dc
.
	`D¿wB™m­
(
_image
, 0, 0, 
çl£
);

101 
	}
}

103 
	$BEGIN_EVENT_TABLE
(
Ch©BÙPª–DŸlog
, 
wxPª–
)

104 
	$EVT_PAINT
(
Ch©BÙPª–DŸlog
::
·štEv’t
)

105 
	$END_EVENT_TABLE
()

107 
Ch©BÙPª–DŸlog
::
	$Ch©BÙPª–DŸlog
(
wxWšdow
 *
·»Á
, 
wxWšdowID
 
id
)

108 : 
	$wxSüŞËdWšdow
(
·»Á
, 
id
)

111 
_dŸlogSiz”
 = 
Ãw
 
	`wxBoxSiz”
(
wxVERTICAL
);

112 
this
->
	`S‘Siz”
(
_dŸlogSiz”
);

115 
	`wxIn™AÎImageHªdËrs
();

119 
_ch©Logic
 = 
¡d
::
make_unique
<
Ch©Logic
>();

122 
_ch©Logic
->
	`S‘Pª–DŸlogHªdË
(
this
);

125 
_ch©Logic
->
	`LßdAnsw”G¿phFromFe
(
d©aP©h
 + "src/answergraph.txt");

128 
	}
}

134 
	gCh©BÙPª–DŸlog
::~
	$Ch©BÙPª–DŸlog
()

143 
	}
}

145 
Ch©BÙPª–DŸlog
::
	$AddDŸlogI‹m
(
wxSŒšg
 
‹xt
, 
boŞ
 
isFromU£r
)

149 
Ch©BÙPª–DŸlogI‹m
 *
™em
 = 
Ãw
 
	`Ch©BÙPª–DŸlogI‹m
(
this
, 
‹xt
, 
isFromU£r
);

150 
_dŸlogSiz”
->
	`Add
(
™em
, 0, 
wxALL
 | (
isFromU£r
 =ğ
Œue
 ? 
wxALIGN_LEFT
 : 
wxALIGN_RIGHT
), 8);

151 
_dŸlogSiz”
->
	`Layout
();

154 
this
->
	`F™Inside
();

155 
this
->
	`S‘SüŞlR©e
(5, 5);

156 
this
->
	`Layout
();

159 
dx
, 
dy
;

160 
this
->
	`G‘SüŞlPix–sP”Un™
(&
dx
, &
dy
);

161 
sy
 = 
dy
 * 
this
->
	`G‘SüŞlLšes
(
wxVERTICAL
);

162 
this
->
	`DoSüŞl
(0, 
sy
);

163 
	}
}

165 
	gCh©BÙPª–DŸlog
::
	$PrštCh©bÙRe¥Ú£
(
¡d
::
¡ršg
 
»¥Ú£
)

168 
wxSŒšg
 
	`bÙText
(
»¥Ú£
.
	`c_¡r
(), 
wxCÚvUTF8
);

169 
	`AddDŸlogI‹m
(
bÙText
, 
çl£
);

170 
	}
}

172 
	gCh©BÙPª–DŸlog
::
	$·štEv’t
(
wxPaštEv’t
 &
evt
)

174 
wxPaštDC
 
	`dc
(
this
);

175 
	`»nd”
(
dc
);

176 
	}
}

178 
	gCh©BÙPª–DŸlog
::
	$·štNow
()

180 
wxCl›ÁDC
 
	`dc
(
this
);

181 
	`»nd”
(
dc
);

182 
	}
}

184 
	gCh©BÙPª–DŸlog
::
	$»nd”
(
wxDC
 &
dc
)

186 
wxImage
 
image
;

187 
image
.
	`LßdFe
(
imgBa£P©h
 + "sf_bridge_inner.jpg");

189 
wxSize
 
sz
 = 
this
->
	`G‘Size
();

190 
wxImage
 
imgSm®l
 = 
image
.
	`ResÿË
(
sz
.
	`G‘Width
(), sz.
	`G‘Height
(), 
wxIMAGE_QUALITY_HIGH
);

192 
_image
 = 
	`wxB™m­
(
imgSm®l
);

193 
dc
.
	`D¿wB™m­
(
_image
, 0, 0, 
çl£
);

194 
	}
}

196 
	gCh©BÙPª–DŸlogI‹m
::
	$Ch©BÙPª–DŸlogI‹m
(
wxPª–
 *
·»Á
, 
wxSŒšg
 
‹xt
, 
boŞ
 
isFromU£r
)

197 : 
	`wxPª–
(
·»Á
, -1, 
	`wxPošt
(-1, -1), 
	`wxSize
(-1, -1), 
wxBORDER_NONE
)

200 
wxB™m­
 *
b™m­
 = 
isFromU£r
 =ğ
Œue
 ? 
nuÎ±r
 : ((
Ch©BÙPª–DŸlog
*)
·»Á
)->
	`G‘Ch©LogicHªdË
()->
	`G‘ImageFromCh©bÙ
();

203 
_ch©BÙImg
 = 
Ãw
 
	`wxSticB™m­
(
this
, 
wxID_ANY
, (
isFromU£r
 ? 
	`wxB™m­
(
imgBa£P©h
 + "u£r.²g", 
wxBITMAP_TYPE_PNG
è: *
b™m­
), 
	`wxPošt
(-1, -1), 
	`wxSize
(-1, -1));

204 
_ch©BÙTxt
 = 
Ãw
 
	`wxSticText
(
this
, 
wxID_ANY
, 
‹xt
, 
	`wxPošt
(-1, -1), 
	`wxSize
(150, -1), 
wxALIGN_CENTRE
 | 
wxBORDER_NONE
);

205 
_ch©BÙTxt
->
	`S‘FÜegroundCŞour
(
isFromU£r
 =ğ
Œue
 ? 
	`wxCŞÜ
(*
wxBLACK
è: wxCŞÜ(*
wxWHITE
));

208 
wxBoxSiz”
 *
hÜzBoxSiz”
 = 
Ãw
 
	`wxBoxSiz”
(
wxHORIZONTAL
);

209 
hÜzBoxSiz”
->
	`Add
(
_ch©BÙTxt
, 8, 
wxEXPAND
 | 
wxALL
, 1);

210 
hÜzBoxSiz”
->
	`Add
(
_ch©BÙImg
, 2, 
wxEXPAND
 | 
wxALL
, 1);

211 
this
->
	`S‘Siz”
(
hÜzBoxSiz”
);

214 
_ch©BÙTxt
->
	`W¿p
(150);

217 
this
->
	`S‘BackgroundCŞour
((
isFromU£r
 =ğ
Œue
 ? 
	`wxT
("YELLOW") : wxT("BLUE")));

218 
	}
}

	@src/chatgui.h

1 #iâdeà
CHATGUI_H_


2 
	#CHATGUI_H_


	)

4 
	~<wx/wx.h
>

5 
	~<memÜy
>

6 
şass
 
	gCh©Logic
;

9 şas 
	cCh©BÙPª–DŸlog
 : 
public
 
wxSüŞËdWšdow


11 
´iv©e
:

13 
wxBoxSiz”
 *
_dŸlogSiz”
;

14 
wxB™m­
 
	m_image
;

19 
	m¡d
::
unique_±r
<
Ch©Logic
> 
_ch©Logic
;

24 
	mpublic
:

26 
Ch©BÙPª–DŸlog
(
wxWšdow
 *
·»Á
, 
wxWšdowID
 
id
);

27 ~
Ch©BÙPª–DŸlog
();

30 
Ch©Logic
 *
	$G‘Ch©LogicHªdË
(è{  
_ch©Logic
.
	`g‘
(); }

33 
	`·štEv’t
(
wxPaštEv’t
 &
evt
);

34 
	`·štNow
();

35 
	`»nd”
(
wxDC
 &
dc
);

38 
	`AddDŸlogI‹m
(
wxSŒšg
 
‹xt
, 
boŞ
 
isFromU£r
 = 
Œue
);

39 
	`PrštCh©bÙRe¥Ú£
(
¡d
::
¡ršg
 
»¥Ú£
);

41 
	`DECLARE_EVENT_TABLE
()

42 
	}
};

45 şas 
	cCh©BÙPª–DŸlogI‹m
 : 
public
 
wxPª–


47 
´iv©e
:

49 
wxSticB™m­
 *
_ch©BÙImg
;

50 
wxSticText
 *
	m_ch©BÙTxt
;

52 
	mpublic
:

54 
Ch©BÙPª–DŸlogI‹m
(
wxPª–
 *
·»Á
, 
wxSŒšg
 
‹xt
, 
boŞ
 
isFromU£r
);

58 şas 
	cCh©BÙF¿me
 : 
public
 
wxF¿me


60 
´iv©e
:

62 
Ch©BÙPª–DŸlog
 *
_·ÃlDŸlog
;

63 
wxTextCŒl
 *
	m_u£rTextCŒl
;

66 
OnEÁ”
(
wxCommªdEv’t
 &
WXUNUSED
(
ev’t
));

68 
	mpublic
:

70 
Ch©BÙF¿me
(cÚ¡ 
wxSŒšg
 &
t™Ë
);

74 şas 
	cCh©BÙF¿meImagePª–
 : 
public
 
wxPª–


77 
wxB™m­
 
_image
;

79 
	mpublic
:

81 
Ch©BÙF¿meImagePª–
(
wxF¿me
 *
·»Á
);

84 
·štEv’t
(
wxPaštEv’t
 &
evt
);

85 
·štNow
();

86 
»nd”
(
wxDC
 &
dc
);

88 
DECLARE_EVENT_TABLE
()

92 şas 
	cCh©BÙAµ
 : 
public
 
wxAµ


94 
public
:

96 
vœtu®
 
boŞ
 
OnIn™
();

	@src/chatlogic.cpp

1 
	~<f¡»am
>

2 
	~<s¡»am
>

3 
	~<io¡»am
>

4 
	~<veùÜ
>

5 
	~<™”©Ü
>

6 
	~<tu¶e
>

7 
	~<®gÜ™hm
>

9 
	~"g¿phedge.h
"

10 
	~"g¿phnode.h
"

11 
	~"ch©bÙ.h
"

12 
	~"ch©logic.h
"

15 
	gCh©Logic
::
	$Ch©Logic
()

21 
_ch©BÙ
 = 
Ãw
 
	`Ch©BÙ
("../images/chatbot.png");

24 
_ch©BÙ
->
	`S‘Ch©LogicHªdË
(
this
);

28 
	}
}

30 
	gCh©Logic
::~
	$Ch©Logic
()

36 
d–‘e
 
_ch©BÙ
;

39 autØ
™
 = 
¡d
::
	`begš
(
_nodes
); iˆ!ğ¡d::
	`’d
(_nodes); ++it)

41 
d–‘e
 *
™
;

45 autØ
™
 = 
¡d
::
	`begš
(
_edges
); iˆ!ğ¡d::
	`’d
(_edges); ++it)

47 
d–‘e
 *
™
;

52 
	}
}

54 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

55 
	gCh©Logic
::
	$AddAÎTok’sToEËm’t
(
¡d
::
¡ršg
 
tok’ID
, 
tok’li¡
 &
tok’s
, 
T
 &
–em’t
)

58 autØ
tok’
 = 
tok’s
.
	`begš
();

59 
Œue
)

61 
tok’
 = 
¡d
::
	`fšd_if
Ñok’, 
tok’s
.
	`’d
(), [&
tok’ID
](cÚ¡ std::
·œ
<¡d::
¡ršg
, std::¡ršg> &·œè{ …aœ.
fœ¡
 ==okenID;; });

62 ià(
tok’
 !ğ
tok’s
.
	`’d
())

64 
–em’t
.
	`AddTok’
(
tok’
->
£cÚd
);

65 
tok’
++;

72 
	}
}

74 
	gCh©Logic
::
	$LßdAnsw”G¿phFromFe
(
¡d
::
¡ršg
 
f’ame
)

77 
¡d
::
if¡»am
 
	`fe
(
f’ame
);

80 ià(
fe
)

83 
¡d
::
¡ršg
 
lšeSŒ
;

84 
	`g‘lše
(
fe
, 
lšeSŒ
))

87 
tok’li¡
 
tok’s
;

88 
lšeSŒ
.
	`size
() > 0)

91 
posTok’FrÚt
 = 
lšeSŒ
.
	`fšd
("<");

92 
posTok’Back
 = 
lšeSŒ
.
	`fšd
(">");

93 ià(
posTok’FrÚt
 < 0 || 
posTok’Back
 < 0)

95 
¡d
::
¡ršg
 
tok’SŒ
 = 
lšeSŒ
.
	`sub¡r
(
posTok’FrÚt
 + 1, 
posTok’Back
 - 1);

98 
posTok’Info
 = 
tok’SŒ
.
	`fšd
(":");

99 ià(
posTok’Info
 !ğ
¡d
::
¡ršg
::
Åos
)

101 
¡d
::
¡ršg
 
tok’Ty³
 = 
tok’SŒ
.
	`sub¡r
(0, 
posTok’Info
);

102 
¡d
::
¡ršg
 
tok’Info
 = 
tok’SŒ
.
	`sub¡r
(
posTok’Info
 + 1,ok’SŒ.
	`size
() - 1);

105 
tok’s
.
	`push_back
(
¡d
::
	`make_·œ
(
tok’Ty³
, 
tok’Info
));

109 
lšeSŒ
 =†šeSŒ.
	`sub¡r
(
posTok’Back
 + 1,†šeSŒ.
	`size
());

113 autØ
ty³
 = 
¡d
::
	`fšd_if
(
tok’s
.
	`begš
(),ok’s.
	`’d
(), [](cÚ¡ std::
·œ
<¡d::
¡ršg
, std::¡ršg> &·œè{ …aœ.
fœ¡
 == "TYPE"; });

114 ià(
ty³
 !ğ
tok’s
.
	`’d
())

117 autØ
idTok’
 = 
¡d
::
	`fšd_if
(
tok’s
.
	`begš
(),ok’s.
	`’d
(), [](cÚ¡ std::
·œ
<¡d::
¡ršg
, std::¡ršg> &·œè{ …aœ.
fœ¡
 == "ID"; });

118 ià(
idTok’
 !ğ
tok’s
.
	`’d
())

121 
id
 = 
¡d
::
	`¡oi
(
idTok’
->
£cÚd
);

124 ià(
ty³
->
£cÚd
 == "NODE")

130 autØ
ÃwNode
 = 
¡d
::
	`fšd_if
(
_nodes
.
	`begš
(), _nodes.
	`’d
(), [&
id
](
G¿phNode
 *
node
è{ ‚ode->
	`G‘ID
() == id; });

133 ià(
ÃwNode
 =ğ
_nodes
.
	`’d
())

135 
_nodes
.
	`em¶aû_back
(
Ãw
 
	`G¿phNode
(
id
));

136 
ÃwNode
 = 
_nodes
.
	`’d
() - 1;

139 
	`AddAÎTok’sToEËm’t
("ANSWER", 
tok’s
, **
ÃwNode
);

147 ià(
ty³
->
£cÚd
 == "EDGE")

153 autØ
·»ÁTok’
 = 
¡d
::
	`fšd_if
(
tok’s
.
	`begš
(),ok’s.
	`’d
(), [](cÚ¡ std::
·œ
<¡d::
¡ršg
, std::¡ršg> &·œè{ …aœ.
fœ¡
 == "PARENT"; });

154 autØ
chdTok’
 = 
¡d
::
	`fšd_if
(
tok’s
.
	`begš
(),ok’s.
	`’d
(), [](cÚ¡ std::
·œ
<¡d::
¡ršg
, std::¡ršg> &·œè{ …aœ.
fœ¡
 == "CHILD"; });

156 ià(
·»ÁTok’
 !ğ
tok’s
.
	`’d
(è&& 
chdTok’
 !=okens.end())

159 autØ
·»ÁNode
 = 
¡d
::
	`fšd_if
(
_nodes
.
	`begš
(), _nodes.
	`’d
(), [&
·»ÁTok’
](
G¿phNode
 *
node
è{ ‚ode->
	`G‘ID
(è=ğ¡d::
	`¡oi
Õ¬’tTok’->
£cÚd
); });

160 autØ
chdNode
 = 
¡d
::
	`fšd_if
(
_nodes
.
	`begš
(), _nodes.
	`’d
(), [&
chdTok’
](
G¿phNode
 *
node
è{ ‚ode->
	`G‘ID
(è=ğ¡d::
	`¡oi
(chdTok’->
£cÚd
); });

163 
G¿phEdge
 *
edge
 = 
Ãw
 
	`G¿phEdge
(
id
);

164 
edge
->
	`S‘ChdNode
(*
chdNode
);

165 
edge
->
	`S‘P¬’tNode
(*
·»ÁNode
);

166 
_edges
.
	`push_back
(
edge
);

169 
	`AddAÎTok’sToEËm’t
("KEYWORD", 
tok’s
, *
edge
);

172 (*
chdNode
)->
	`AddEdgeToP¬’tNode
(
edge
);

173 (*
·»ÁNode
)->
	`AddEdgeToChdNode
(
edge
);

182 
¡d
::
cout
 << "E¼Ü: ID missšg. Lši ignÜed!" << std::
’dl
;

187 
fe
.
	`şo£
();

192 
¡d
::
cout
 << "Fcould‚Ù bİ’ed!" << std::
’dl
;

200 
G¿phNode
 *
roÙNode
 = 
nuÎ±r
;

201 autØ
™
 = 
¡d
::
	`begš
(
_nodes
); iˆ!ğ¡d::
	`’d
(_nodes); ++it)

204 ià((*
™
)->
	`G‘Numb”OfP¬’ts
() == 0)

207 ià(
roÙNode
 =ğ
nuÎ±r
)

209 
roÙNode
 = *
™
;

213 
¡d
::
cout
 << "ERROR : MuÉË„oÙ‚ode d‘eùed" << std::
’dl
;

219 
_ch©BÙ
->
	`S‘RoÙNode
(
roÙNode
);

220 
roÙNode
->
	`MoveCh©bÙH”e
(
_ch©BÙ
);

224 
	}
}

226 
	gCh©Logic
::
	$S‘Pª–DŸlogHªdË
(
Ch©BÙPª–DŸlog
 *
·ÃlDŸlog
)

228 
_·ÃlDŸlog
 = 
·ÃlDŸlog
;

229 
	}
}

231 
	gCh©Logic
::
	$S‘Ch©bÙHªdË
(
Ch©BÙ
 *
ch©bÙ
)

233 
_ch©BÙ
 = 
ch©bÙ
;

234 
	}
}

236 
	gCh©Logic
::
	$S’dMes§geToCh©bÙ
(
¡d
::
¡ršg
 
mes§ge
)

238 
_ch©BÙ
->
	`ReûiveMes§geFromU£r
(
mes§ge
);

239 
	}
}

241 
	gCh©Logic
::
	$S’dMes§geToU£r
(
¡d
::
¡ršg
 
mes§ge
)

243 
_·ÃlDŸlog
->
	`PrštCh©bÙRe¥Ú£
(
mes§ge
);

244 
	}
}

246 
wxB™m­
 *
	gCh©Logic
::
	$G‘ImageFromCh©bÙ
()

248  
_ch©BÙ
->
	`G‘ImageHªdË
();

249 
	}
}

	@src/chatlogic.h

1 #iâdeà
CHATLOGIC_H_


2 
	#CHATLOGIC_H_


	)

4 
	~<veùÜ
>

5 
	~<¡ršg
>

6 
	~"ch©gui.h
"

9 
şass
 
	gCh©BÙ
;

10 
şass
 
	gG¿phEdge
;

11 
şass
 
	gG¿phNode
;

13 şas 
	cCh©Logic


15 
	m´iv©e
:

20 
¡d
::
veùÜ
<
G¿phNode
 *> 
_nodes
;

21 
	m¡d
::
veùÜ
<
G¿phEdge
 *> 
_edges
;

27 
G¿phNode
 *
	m_cu¼’tNode
;

28 
Ch©BÙ
 *
	m_ch©BÙ
;

29 
Ch©BÙPª–DŸlog
 *
	m_·ÃlDŸlog
;

32 
	m¡d
::
	tveùÜ
<
	t¡d
::
	t·œ
<¡d::
	t¡ršg
, std::¡ršg>> 
	ttok’li¡
;

35 
	m‹m¶©e
 <
ty³Çme
 
	mT
>

36 
AddAÎTok’sToEËm’t
(
¡d
::
¡ršg
 
tok’ID
, 
tok’li¡
 &
tok’s
, 
T
 &
–em’t
);

38 
	mpublic
:

40 
Ch©Logic
();

41 ~
Ch©Logic
();

44 
S‘Pª–DŸlogHªdË
(
Ch©BÙPª–DŸlog
 *
·ÃlDŸlog
);

45 
S‘Ch©bÙHªdË
(
Ch©BÙ
 *
ch©bÙ
);

48 
LßdAnsw”G¿phFromFe
(
¡d
::
¡ršg
 
f’ame
);

49 
S’dMes§geToCh©bÙ
(
¡d
::
¡ršg
 
mes§ge
);

50 
S’dMes§geToU£r
(
¡d
::
¡ršg
 
mes§ge
);

51 
wxB™m­
 *
G‘ImageFromCh©bÙ
();

	@src/graphedge.cpp

1 
	~"g¿phnode.h
"

2 
	~"g¿phedge.h
"

4 
	gG¿phEdge
::
	$G¿phEdge
(
id
)

6 
_id
 = 
id
;

7 
	}
}

9 
	gG¿phEdge
::
	$S‘ChdNode
(
G¿phNode
 *
chdNode
)

11 
_chdNode
 = 
chdNode
;

12 
	}
}

14 
	gG¿phEdge
::
	$S‘P¬’tNode
(
G¿phNode
 *
·»ÁNode
)

16 
_·»ÁNode
 = 
·»ÁNode
;

17 
	}
}

19 
	gG¿phEdge
::
	$AddTok’
(
¡d
::
¡ršg
 
tok’
)

21 
_keywÜds
.
	`push_back
(
tok’
);

22 
	}
}

	@src/graphedge.h

1 #iâdeà
GRAPHEDGE_H_


2 
	#GRAPHEDGE_H_


	)

4 
	~<veùÜ
>

5 
	~<¡ršg
>

7 
şass
 
	gG¿phNode
;

9 şas 
	cG¿phEdge


11 
	m´iv©e
:

13 
G¿phNode
 *
_chdNode
;

14 
G¿phNode
 *
	m_·»ÁNode
;

17 
	m_id
;

18 
	m¡d
::
veùÜ
<
¡d
::
¡ršg
> 
_keywÜds
;

21 
	mpublic
:

23 
G¿phEdge
(
id
);

26 
	$G‘ID
(è{  
_id
; }

27 
	`S‘ChdNode
(
G¿phNode
 *
chdNode
);

28 
	`S‘P¬’tNode
(
G¿phNode
 *
·»ÁNode
);

29 
G¿phNode
 *
	$G‘ChdNode
(è{  
_chdNode
; 
	}
}

30 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
	$G‘KeywÜds
(è{  
_keywÜds
; 
	}
}

33 
AddTok’
(
¡d
::
¡ršg
 
tok’
);

	@src/graphnode.cpp

1 
	~"g¿phedge.h
"

2 
	~"g¿phnode.h
"

4 
	gG¿phNode
::
	$G¿phNode
(
id
)

6 
_id
 = 
id
;

7 
	}
}

9 
	gG¿phNode
::~
	$G¿phNode
()

18 
	}
}

20 
G¿phNode
::
	$AddTok’
(
¡d
::
¡ršg
 
tok’
)

22 
_ªsw”s
.
	`push_back
(
tok’
);

23 
	}
}

25 
	gG¿phNode
::
	$AddEdgeToP¬’tNode
(
G¿phEdge
 *
edge
)

27 
_·»ÁEdges
.
	`push_back
(
edge
);

28 
	}
}

30 
	gG¿phNode
::
	$AddEdgeToChdNode
(
G¿phEdge
 *
edge
)

32 
_chdEdges
.
	`push_back
(
edge
);

33 
	}
}

37 
	gG¿phNode
::
	$MoveCh©bÙH”e
(
Ch©BÙ
 *
ch©bÙ
)

39 
_ch©BÙ
 = 
ch©bÙ
;

40 
_ch©BÙ
->
	`S‘Cu¼’tNode
(
this
);

41 
	}
}

43 
	gG¿phNode
::
	$MoveCh©bÙToNewNode
(
G¿phNode
 *
ÃwNode
)

45 
ÃwNode
->
	`MoveCh©bÙH”e
(
_ch©BÙ
);

46 
_ch©BÙ
 = 
nuÎ±r
;

47 
	}
}

51 
G¿phEdge
 *
	gG¿phNode
::
	$G‘ChdEdgeAtIndex
(
šdex
)

56  
_chdEdges
[
šdex
];

60 
	}
}

	@src/graphnode.h

1 #iâdeà
GRAPHNODE_H_


2 
	#GRAPHNODE_H_


	)

4 
	~<veùÜ
>

5 
	~<¡ršg
>

6 
	~"ch©bÙ.h
"

10 
şass
 
	gG¿phEdge
;

12 şas 
	cG¿phNode


14 
	m´iv©e
:

19 
¡d
::
veùÜ
<
G¿phEdge
 *> 
_chdEdges
;

22 
	m¡d
::
veùÜ
<
G¿phEdge
 *> 
_·»ÁEdges
;

23 
Ch©BÙ
 *
	m_ch©BÙ
;

29 
	m_id
;

30 
	m¡d
::
veùÜ
<
¡d
::
¡ršg
> 
_ªsw”s
;

32 
	mpublic
:

34 
G¿phNode
(
id
);

35 ~
G¿phNode
();

38 
	$G‘ID
(è{  
_id
; }

39 
	$G‘Numb”OfChdEdges
(è{  
_chdEdges
.
	`size
(); 
	}
}

40 
G¿phEdge
 *
G‘ChdEdgeAtIndex
(
šdex
);

41 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
	$G‘Answ”s
(è{  
_ªsw”s
; 
	}
}

42 
	$G‘Numb”OfP¬’ts
(è{  
_·»ÁEdges
.
	`size
(); 
	}
}

45 
AddTok’
(
¡d
::
¡ršg
 
tok’
);

46 
AddEdgeToP¬’tNode
(
G¿phEdge
 *
edge
);

47 
AddEdgeToChdNode
(
G¿phEdge
 *
edge
);

52 
MoveCh©bÙH”e
(
Ch©BÙ
 *
ch©bÙ
);

57 
MoveCh©bÙToNewNode
(
G¿phNode
 *
ÃwNode
);

	@
1
.
1
/usr/include
11
182
src/answergraph.txt
src/chatbot.cpp
src/chatbot.h
src/chatgui.cpp
src/chatgui.h
src/chatlogic.cpp
src/chatlogic.h
src/graphedge.cpp
src/graphedge.h
src/graphnode.cpp
src/graphnode.h
